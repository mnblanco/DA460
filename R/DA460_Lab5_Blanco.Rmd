---
title: "DA 460 - Lab 5"
author: "Marjorie Blanco"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Handout 5 R: Inference for numerical data

## The data

```{r,}
download.file("http://www.openintro.org/stat/data/ames.RData", destfile = "ames.RData")
load("ames.RData")
```

In this lab we'll start with a simple random sample of size 60 from the population. Specifically, this is a simple random sample of size 60. Note that the data set has information on many housing variables, but for the first portion of the lab we'll focus on the size of the house, represented by the variable Gr.Liv.Area.

```{r}
# the ground living area
population <- ames$Gr.Liv.Area
# simple random sample of size 60
samp <- sample(population, 60)
```

### Exercise 1
Describe the distribution of your sample. What would you say is the "typical" size within your sample? Also state precisely what you interpreted "typical" to mean.

```{r}
summary(samp)

xlimits <- range(samp)
hist(samp, breaks = 20, xlim = xlimits)
```

### Exercise 2
Would you expect another student's distribution to be identical to yours? Would you expect it to be similar? Why or why not?



## Confidence intervals

```{r}
sample_mean <- mean(samp)

se <- sd(samp) / sqrt(60)
lower <- sample_mean - 1.96 * se
upper <- sample_mean + 1.96 * se
c(lower, upper)
```


### Exercise 3

For the confidence interval to be valid, the sample mean must be normally distributed and have standard error s/sqrt(n). What conditions must be met for this to be true?


## Confidence levels

### Exercise 4

What does "95% confidence" mean? If you're not sure, see Section 4.2.2.

```{r}
mean(population)
```

### Exercise 5

Does your confidence interval capture the true average size of houses in Ames?

### Exercise 6


```{r}
# create vector to save mean for 50 samples of size 60
samp_mean <- rep(NA, 50)
# create vector to save standard deviation for 50 samples of size 60
samp_sd <- rep(NA, 50)
# sample size
n <- 60

# calculate the means and standard deviations of 50 random samples
for(i in 1:length(samp_mean)){
  samp <- sample(population, n) # obtain a sample of size n = 60 from the population
  samp_mean[i] <- mean(samp)    # save sample mean in ith element of samp_mean
  samp_sd[i] <- sd(samp)        # save sample sd in ith element of samp_sd
}

# construct the confidence intervals.
lower_vector <- samp_mean - 1.96 * samp_sd / sqrt(n) 
upper_vector <- samp_mean + 1.96 * samp_sd / sqrt(n)

# Lower bounds stored in lower_vector, and the upper bounds in upper_vector
c(lower_vector[1], upper_vector[1])
```
